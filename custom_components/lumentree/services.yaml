backfill_now:
  name: Backfill statistics now
  description: Fetch daily data from lesvr and build cache for the last N days.
  fields:
    days:
      name: Days
      description: Number of past days to backfill (inclusive of today).
      required: false
      example: 365
      selector:
        number:
          min: 1
          max: 3650
          mode: box

recompute_month_year:
  name: Recompute month/year aggregates
  description: Recalculate monthly arrays and yearly totals from cached daily data for the current year.
  fields: {}

purge_cache:
  name: Purge cached statistics
  description: Delete cached statistics file for a specific year of the configured device.
  fields:
    year:
      name: Year
      description: Year to purge (defaults to current year if omitted).
      required: false
      example: 2025
      selector:
        number:
          min: 2000
          max: 2100
          mode: box


backfill_all:
  name: Backfill toàn bộ dữ liệu
  description: Quét lùi toàn bộ dữ liệu (dừng khi gặp số ngày liên tiếp không có dữ liệu hoặc quá giới hạn năm).
  fields:
    max_years:
      name: Max years
      description: Tối đa số năm cần quét (mặc định 10).
      required: false
      example: 10
      selector:
        number:
          min: 1
          max: 30
          mode: box
    empty_streak:
      name: Empty streak threshold
      description: Số ngày liên tiếp không có dữ liệu để dừng (mặc định 14).
      required: false
      example: 14
      selector:
        number:
          min: 3
          max: 60
          mode: box

backfill_gaps:
  name: Backfill các ngày còn thiếu
  description: Lấp dần các ngày còn thiếu trong cache, giới hạn số ngày mỗi lần chạy.
  fields:
    max_years:
      name: Max years
      description: Số năm gần nhất để kiểm tra (mặc định 3).
      required: false
      example: 3
      selector:
        number:
          min: 1
          max: 10
          mode: box
    max_days_per_run:
      name: Max days per run
      description: Giới hạn số ngày fetch mỗi lần chạy (mặc định 30).
      required: false
      example: 30
      selector:
        number:
          min: 1
          max: 200
          mode: box

mark_empty_dates:
  name: Đánh dấu ngày rỗng
  description: Đánh dấu các ngày chắc chắn không có dữ liệu để bỏ qua vĩnh viễn.
  fields:
    year:
      name: Year
      description: Năm của các ngày cần đánh dấu.
      required: true
      example: 2025
      selector:
        number:
          min: 2000
          max: 2100
          mode: box
    dates:
      name: Dates
      description: Danh sách ngày (YYYY-MM-DD) cần đánh dấu rỗng.
      required: true
      example: ["2024-12-31", "2025-01-01"]
      selector:
        object:

mark_coverage_range:
  name: Đặt phạm vi bao phủ dữ liệu
  description: Ghi lại khoảng [earliest, latest] đã có dữ liệu đầy đủ cho 1 năm.
  fields:
    year:
      name: Year
      description: Năm cần thiết lập phạm vi bao phủ.
      required: true
      example: 2025
      selector:
        number:
          min: 2000
          max: 2100
          mode: box
    earliest:
      name: Earliest date
      description: Ngày đầu tiên có đủ dữ liệu (YYYY-MM-DD). Bỏ trống nếu không thay đổi.
      required: false
      selector:
        text:
    latest:
      name: Latest date
      description: Ngày cuối cùng có đủ dữ liệu (YYYY-MM-DD). Bỏ trống nếu không thay đổi.
      required: false
      selector:
        text:

